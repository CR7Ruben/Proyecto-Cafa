<div class="container d-flex justify-content-center align-items-center min-vh-100">
  <div class="card shadow-lg p-4 p-md-5" style="max-width: 600px; width: 100%;">

    <div class="text-center mb-4">
      <h2 class="fw-bold">Desencriptar</h2>
      <p class="text-muted">Recupera tu texto original de forma segura</p>
    </div>

    <!-- Alertas -->
    <div *ngIf="showAlert" class="alert" [ngClass]="'alert-' + alertType" role="alert">
      {{ alertMessage }}
    </div>

    <!-- Texto cifrado -->
    <div class="mb-3">
      <label for="ciphertext" class="form-label">Texto cifrado</label>
      <textarea id="ciphertext" class="form-control" rows="4" placeholder="Ingresa el texto cifrado" [(ngModel)]="ciphertext"></textarea>
    </div>

    <!-- Llave -->
    <div class="mb-3">
      <label for="passwordKey" class="form-label">Llave de desencriptación</label>
      <div class="input-group">
        <input id="passwordKey" type="text" class="form-control" placeholder="Ingresa tu llave" [(ngModel)]="passwordKey">
        <button class="btn btn-outline-secondary" type="button" (click)="generateKey()">Generar</button>
      </div>
      <small class="text-muted">Llave actual: <span class="fw-bold">{{ passwordKey }}</span></small>
    </div>

    <!-- Botón Desencriptar -->
    <div class="d-grid mb-2">
      <button class="btn btn-success btn-lg" (click)="decrypt()">Desencriptar</button>
    </div>

    <!-- Botón Ir al Dashboard -->
    <div class="d-grid mb-4">
      <button class="btn btn-outline-primary btn-lg" (click)="goToDashboard()">Ir al Dashboard</button>
    </div>

    <!-- Resultado -->
    <div *ngIf="plaintext" class="mt-3">
      <h5 class="fw-bold">Texto claro:</h5>
      <pre class="p-3 bg-light border rounded">{{ plaintext }}</pre>
    </div>
  </div>
</div>
